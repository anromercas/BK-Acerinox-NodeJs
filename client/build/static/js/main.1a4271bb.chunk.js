(this["webpackJsonpexpense-tracker-react"]=this["webpackJsonpexpense-tracker-react"]||[]).push([[0],{396:function(e,t,a){e.exports=a(557)},557:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(20),l=a.n(c),o=a(12),i=a(52),s=a(139),u=a(15),m=a.n(u),d=a(27),p=a(83),f=a(30),h=function(e,t){switch(t.type){case"GET_CHECKLISTS":return Object(f.a)(Object(f.a)({},e),{},{loading:!1,checklists:t.payload});case"GET_CHECKLIST_INSTANCES":return Object(f.a)(Object(f.a)({},e),{},{loading:!1,checklistInstances:t.payload});case"GET_AUDITORS":return Object(f.a)(Object(f.a)({},e),{},{loading:!1,auditors:t.payload});case"GET_LATESTS":return Object(f.a)(Object(f.a)({},e),{},{loading:!1,latests:t.payload});case"DELETE_CHECKLIST_INSTANCE":return Object(f.a)(Object(f.a)({},e),{},{checklistInstances:e.checklistInstances.filter((function(e){return e._id!==t.payload})),latests:e.latests.filter((function(e){return e._id!==t.payload}))});case"ADD_CHECKLIST":return Object(f.a)(Object(f.a)({},e),{},{checklists:[t.payload].concat(Object(p.a)(e.checklists))});case"ADD_CHECKLIST_INSTANCE":return Object(f.a)(Object(f.a)({},e),{},{checklistInstances:[t.payload].concat(Object(p.a)(e.checklistInstances)),latests:[t.payload].concat(Object(p.a)(e.latests)).splice(0,10)});case"UPDATE_CHECKLIST_INSTANCE":var a=e.checklistInstances.filter((function(e){return e._id!==t.payload})),n=e.latests.filter((function(e){return e._id!==t.payload}));return Object(f.a)(Object(f.a)({},e),{},{checklistInstances:[t.payload].concat(Object(p.a)(a)),latests:[t.payload].concat(Object(p.a)(n)).splice(0,10)});case"TA_ERROR":return Object(f.a)(Object(f.a)({},e),{},{error:t.payload});default:return e}},E=a(33),g=a.n(E),b={checklists:[],checklistInstances:[],latests:[],auditors:[],error:null,loading:!0},y=Object(n.createContext)(b),v=function(e){var t=e.children,a=Object(n.useReducer)(h,b),c=Object(o.a)(a,2),l=c[0],i=c[1];function s(){return(s=Object(d.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.get("/api/v1/queries/auditors");case 3:t=e.sent,i({type:"GET_AUDITORS",payload:t.data.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),i({type:"TA_ERROR",payload:e.t0.response.data.error});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function u(){return(u=Object(d.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.get("/api/v1/checklists");case 3:t=e.sent,i({type:"GET_CHECKLISTS",payload:t.data.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),i({type:"TA_ERROR",payload:e.t0.response.data.error});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function p(){return(p=Object(d.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.get("/api/v1/checklistInstances");case 3:t=e.sent,i({type:"GET_CHECKLIST_INSTANCES",payload:t.data.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),i({type:"TA_ERROR",payload:e.t0.response.data.error});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function f(){return(f=Object(d.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.get("/api/v1/queries/latests/".concat(t));case 3:a=e.sent,i({type:"GET_LATESTS",payload:a.data.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),i({type:"TA_ERROR",payload:e.t0.response.data.error});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function E(){return(E=Object(d.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.delete("/api/v1/checklistInstances/".concat(t));case 3:i({type:"DELETE_CHECKLIST_INSTANCE",payload:t}),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),i({type:"TA_ERROR",payload:e.t0.response.data.error});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function v(){return(v=Object(d.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{"Content-Type":"application/json"}},e.prev=1,e.next=4,g.a.post("/api/v1/checklists",t,a);case 4:n=e.sent,i({type:"ADD_CHECKLIST",payload:n.data.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),i({type:"TA_ERROR",payload:e.t0.response.data.error});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function O(){return(O=Object(d.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{"Content-Type":"application/json"}},e.prev=1,e.next=4,g.a.post("/api/v1/checklistInstances",t,a);case 4:n=e.sent,i({type:"ADD_CHECKLIST_INSTANCE",payload:n.data.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),i({type:"TA_ERROR",payload:e.t0.response.data.error});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function C(){return(C=Object(d.a)(m.a.mark((function e(t,a){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{"Content-Type":"application/json"}},e.prev=1,e.next=4,g.a.put("/api/v1/checklistInstances/".concat(a),t,n);case 4:r=e.sent,console.log("globalstate update checklistInstance: ",JSON.stringify(t)),console.log("globalstate newStatus: ",a),i({type:"UPDATE_CHECKLIST_INSTANCE",payload:r.data.data}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),i({type:"TA_ERROR",payload:e.t0.response.data.error});case 13:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}return r.a.createElement(y.Provider,{value:{checklists:l.checklists,checklistInstances:l.checklistInstances,auditors:l.auditors,latests:l.latests,error:l.error,loading:l.loading,getAuditors:function(){return s.apply(this,arguments)},getChecklists:function(){return u.apply(this,arguments)},getChecklistInstances:function(){return p.apply(this,arguments)},getLatests:function(e){return f.apply(this,arguments)},addChecklist:function(e){return v.apply(this,arguments)},addChecklistInstance:function(e){return O.apply(this,arguments)},deleteChecklistInstance:function(e){return E.apply(this,arguments)},updateChecklistInstanceStatus:function(e,t){return C.apply(this,arguments)}}},t)};Date.prototype.addDays=function(e){var t=new Date(this.valueOf());return t.setDate(t.getDate()+e),t};var O=a(622),C=a(329),k=a(637),x=a(560),j=a(630),S=a(658),T=a(662),D=a(650),w=a(636),I=a(561),A=a(314),_=a.n(A),L=a(667),N=a(135),R=a(28),P=a(654),z=a(649),K=a(5),W=a(624),H=a(625),F=a(559),B=a(626),G=a(627),U=a(623),M=a(663),J=a(664),V=(Object(K.a)((function(e){return{badge:{backgroundColor:"#44b700",color:"#44b700",boxShadow:"0 0 0 2px ".concat(e.palette.background.paper),"&::after":{position:"absolute",top:0,left:0,width:"100%",height:"100%",borderRadius:"50%",animation:"$ripple 1.2s infinite ease-in-out",border:"1px solid currentColor",content:'""'}},"@keyframes ripple":{"0%":{transform:"scale(.8)",opacity:1},"100%":{transform:"scale(2.4)",opacity:0}}}}))(U.a),Object(W.a)((function(e){return{root:{width:"100%",maxWidth:"auto",backgroundColor:e.palette.background.paper,position:"relative",overflow:"auto",maxHeight:200},listSection:{backgroundColor:"inherit"},ul:{backgroundColor:"inherit",padding:0}}}))),q=function(e){for(var t=e.values,a=e.handleFunction,c=e.primaryDisplayKey,l=e.sectionKey,i=Object(n.useState)([]),s=Object(o.a)(i,2),u=s[0],m=s[1],d=V(),f={},h=function(e,t,n){m([t,n]),a(f[t][n]),console.log("valuesBySection returned "+JSON.stringify(f[t][n]))},E=0;E<t.length;E++){var g=t[E][l];f.hasOwnProperty(g)?f[g]=[].concat(Object(p.a)(f[g]),[t[E]]):f[g]=[t[E]]}return void 0===l?r.a.createElement(H.a,{className:d.root,component:"nav","aria-label":"secondary mailbox folder"},void 0===t||null===t?"":t.map((function(e,t){return r.a.createElement(F.a,{button:!0,selected:u.toString()===[void 0,t].toString(),onClick:function(e){return h(0,void 0,t)}},e.avatar?r.a.createElement(M.a,{alt:"A.M.",src:e.avatar,className:d.large}):"",r.a.createElement(B.a,{primary:e[c]}))}))):r.a.createElement(H.a,{className:d.root,subheader:r.a.createElement("li",null)},Object.keys(f).map((function(e){return r.a.createElement("li",{key:"section-".concat(e),className:d.listSection},r.a.createElement("ul",{className:d.ul},r.a.createElement(G.a,null,r.a.createElement(J.a,{label:"".concat(e)})),f[e].map((function(t,a){return r.a.createElement(F.a,{key:"".concat(e,"-").concat(t._id),button:!0,selected:u.toString()===[e,a].toString(),onClick:function(t){return h(0,e,a)}},t.avatar?r.a.createElement(M.a,{alt:"A.M.",src:t.avatar}):"",r.a.createElement(B.a,{primary:"".concat(t[c])}))}))))})))},X=a(657),Y=a(628),Z=a(309),$=a.n(Z),Q=a(219),ee=a.n(Q),te=Object(W.a)({root:{flexGrow:1,maxWidth:500}}),ae=function(e){var t=e.tabNames,a=e.icons,c=e.handleSelection,l=te(),i=Object(n.useState)(0),s=Object(o.a)(i,2),u=s[0],m=s[1],d=function(e){var t=r.a.createElement(ee.a,null);switch(e){case"PlaylistAddCheckRounded":t=r.a.createElement(ee.a,null);break;case"WarningRounded":t=r.a.createElement($.a,null)}return t};return r.a.createElement(x.a,{square:!0,className:l.root},r.a.createElement(X.a,{value:u,onChange:function(e,t){m(t),c(t)},variant:"fullWidth",indicatorColor:"secondary",textColor:"secondary","aria-label":"icon label tabs example"},t.map((function(e,t){return r.a.createElement(Y.a,{icon:d(a[t]),label:e})}))))},ne=a(629),re=a(218),ce=a.n(re),le=function(e){var t=e.task,a=Object(n.useContext)(y).deleteChecklistInstance;return r.a.createElement(ne.a,{key:t._id,message:function(){var e=new Date(t.dueDate),a=e.toLocaleDateString()+" "+e.toLocaleTimeString();return"".concat(t.checklist_id.name," \u25b6\ufe0e ").concat(t.user_id.fullname," \u23af ").concat(t.subType," \u23af ").concat(a)}(),action:r.a.createElement(ce.a,{color:"primary",size:"medium",onClick:function(){a(t._id)}},"Eliminar")})},oe=function(){var e=Object(n.useContext)(y),t=e.latests,a=e.getLatests;return Object(n.useEffect)((function(){a(5)}),[]),r.a.createElement(j.a,{container:!0,direction:"column",spacing:1},r.a.createElement(j.a,{item:!0,xs:!0}),void 0===t?"":t.map((function(e){return r.a.createElement(j.a,{item:!0,xs:!0},r.a.createElement(le,{key:e._id,task:e}))})))},ie=a(645),se=a(647),ue=a(631),me=a(644),de=a(646),pe=a(668),fe=a(642),he=function(e){var t=e.column,a=e.value;return r.a.createElement(ue.a,{key:t.id,align:t.align},t.format?t.format(a):a)},Ee=a(632),ge=a(656),be=a(635),ye=Object.freeze({ASSIGNED:"ASSIGNED",REVIEW_PENDING:"REVIEW_PENDING",REVIEWED:"REVIEWED"}),ve=function(e){var t=e.column,a=e.id,c=e.value,l=(Object(n.useContext)(y).getChecklists,Object(n.useState)(c)),i=Object(o.a)(l,2),s=i[0],u=i[1];return r.a.createElement(ue.a,{key:t.id,align:t.align},r.a.createElement(Ee.a,{id:"demo-simple-select-label"},"Pasar a"),r.a.createElement(ge.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:s,onChange:function(e){var n=e.target.value;u(n),t.callback(a,n)}},Object.keys(ye).map((function(e){return r.a.createElement(be.a,{value:e},e)}))))},Oe=a(312),Ce=a.n(Oe),ke=a(311),xe=a.n(ke),je=a(638),Se=a(655),Te=a(643),De=a(639),we=a(640),Ie=a(641),Ae=a(310),_e=a.n(Ae),Le=a(175),Ne=a(174),Re=a(661),Pe=Object.freeze({FREE_LINE:"FREE_LINE",FIXED_LINE:"FIXED_LINE"}),ze=Object(C.a)({palette:{primary:Le.a,secondary:Ne.a}}),Ke=function(e){var t=e.row,a=Object(n.useContext)(y).updateChecklistInstanceStatus,c=Object(n.useState)(t.comments.reduce((function(e,t){return e.concat(t+"\n")}),"")),l=Object(o.a)(c,2),i=l[0],s=l[1];function u(e,t){return p.apply(this,arguments)}function p(){return(p=Object(d.a)(m.a.mark((function e(n,r){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),t.comments=[i],console.log("row.comments "+t.comments),e.next=5,a(t,r);case 5:e.sent;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return console.log("!Row: ",t),r.a.createElement(j.a,{container:!0,spacing:3},void 0!==t.content&&t.content.map((function(e){switch(e.type){case Pe.FIXED_LINE:return r.a.createElement(Fe,{checkpoint:e});case Pe.FREE_LINE:return r.a.createElement(He,{checkpoint:e})}})),r.a.createElement(j.a,{item:!0,xs:8},r.a.createElement(L.a,{fullWidth:!0,id:"outlined-textarea",label:"Comentarios",placeholder:"Introduzca sus comentarios",multiline:!0,variant:"outlined",defaultValue:i,rows:8,onChange:function(e){return s(e.target.value)}})),r.a.createElement(j.a,{item:!0,xs:4},r.a.createElement(j.a,{container:!0,direction:"column",align:"left",spacing:2},r.a.createElement(j.a,{item:!0},r.a.createElement(k.a,{theme:ze},r.a.createElement(O.a,{variant:"contained",color:"primary",onClick:function(e){return u(e,"OK")}},"OK"))),r.a.createElement(j.a,{item:!0},r.a.createElement(k.a,{theme:ze},r.a.createElement(O.a,{variant:"contained",color:"secondary",onClick:function(e){return u(e,"NOK")}},"NOK"))),r.a.createElement(j.a,{item:!0},"Export",r.a.createElement(je.a,{"area-label":"export",onClick:function(e){return function(e){e.preventDefault(),console.log("To PDF document")}(e)}},r.a.createElement(_e.a,null))))))},We=Object(W.a)((function(e){return{root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",backgroundColor:e.palette.background.paper},gridList:{flexWrap:"nowrap",transform:"translateZ(0)"},title:{color:e.palette.primary.light},titleBar:{background:"linear-gradient(to top, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.3) 70%, rgba(0,0,0,0) 100%)"}}})),He=function(e){var t=e.checkpoint,a=We(),c=Object(n.useState)(""),l=Object(o.a)(c,2),i=l[0],s=l[1],u=Object(n.useState)(!1),m=Object(o.a)(u,2),d=m[0],p=m[1],f=function(e){s(e),p(""!==e)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,{item:!0,xs:12},r.a.createElement(x.a,{variant:"outlined"},t.name),"Score: ",t.score,r.a.createElement("div",{className:a.root},t.freeValues.map((function(e){return r.a.createElement(j.a,{item:!0,xs:12},r.a.createElement(De.a,{className:a.gridList},e.images.map((function(t){return r.a.createElement(we.a,{key:t},r.a.createElement("img",{src:t,alt:"",onClick:function(){return f(t)}}),r.a.createElement(Ie.a,{title:e.text,classes:{root:a.titleBar,title:a.title}}))}))))})))),r.a.createElement(Re.a,{"aria-labelledby":"simple-dialog-title",open:d,onClose:function(){return f("")}},r.a.createElement("img",{src:i,alt:""})))},Fe=function(e){var t=e.checkpoint;return r.a.createElement(j.a,{item:!0,xs:12},r.a.createElement(x.a,{variant:"outlined"},t.name," ",t.fixedValues[0]._value),"Score: ",t.score)},Be=function(e){var t=e.columns,a=e.row,c=Object(n.useState)(!1),l=Object(o.a)(c,2),i=l[0],s=l[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(fe.a,{hover:!0,key:a._id},r.a.createElement(ue.a,null,r.a.createElement(je.a,{"aria-label":"expand row",size:"small",onClick:function(){return s(!i)}},i?r.a.createElement(xe.a,null):r.a.createElement(Ce.a,null))),t.map((function(e){var t=void 0;switch(e.type){case"value":var n=e.id.split(".").reduce((function(e,t){return e&&e[t]}),a);t=r.a.createElement(he,{column:e,value:n});break;case"action":t=r.a.createElement(ve,{column:e,id:a._id,value:a.status})}return t}))),r.a.createElement(fe.a,null,r.a.createElement(ue.a,{style:{paddingBottom:0,paddingTop:0},colSpan:t.length},r.a.createElement(Te.a,{in:i,timeout:"auto",unmountOnExit:!0},r.a.createElement(Se.a,{margin:1},r.a.createElement(Ke,{row:a}))))))},Ge=Object(W.a)({root:{width:"100%"},container:{maxHeight:440}}),Ue=function(){var e=Ge(),t=Object(n.useState)(0),a=Object(o.a)(t,2),c=a[0],l=a[1],i=Object(n.useState)(10),s=Object(o.a)(i,2),u=s[0],m=s[1],d=Object(n.useContext)(y),p=d.checklistInstances,f=d.getChecklistInstances,h=function(){var e=Object(n.useContext)(y);e.updateChecklistInstanceStatus,e.error;return[{type:"",id:"",label:"",align:"left"},{type:"value",id:"checklist_id.department",label:"Department",align:"left"},{type:"value",id:"checklist_id.name",label:"Tarea",align:"left"},{type:"value",id:"dueDate",label:"Expira...",align:"left",format:function(e){var t=new Date(e);return t.toLocaleDateString()+" "+t.toLocaleTimeString()}},{type:"value",id:"subType",label:"Frecuencia",align:"left"},{type:"value",id:"user_id.fullname",label:"Auditor",align:"left"},{type:"value",id:"status",label:"Estado",align:"left"}]}();return Object(n.useEffect)((function(){f()}),[]),r.a.createElement(x.a,{className:e.root},r.a.createElement(me.a,{className:e.container},r.a.createElement(ie.a,{stickyHeader:!0,"aria-label":"sticky table"},r.a.createElement(de.a,null,r.a.createElement(fe.a,null,h.map((function(e){return r.a.createElement(ue.a,{key:e.id,align:e.align,style:{minWidth:e.minWidth}},e.label)})))),r.a.createElement(se.a,null,p.slice(c*u,c*u+u).map((function(e){return r.a.createElement(Be,{columns:h,row:e})}))))),r.a.createElement(pe.a,{rowsPerPageOptions:[10,25,100],component:"div",count:p.length,rowsPerPage:u,page:c,onChangePage:function(e,t){l(t)},onChangeRowsPerPage:function(e){m(+e.target.value),l(0)}}))},Me=a(313),Je=a.n(Me),Ve=Object(C.a)({palette:{primary:Je.a}});Date.prototype.addDays=function(e){var t=new Date(this.valueOf());return t.setDate(t.getDate()+e),t};var qe=function(){var e,t=Object(n.useContext)(y),a=t.checklists,c=t.getChecklists,l=(t.addChecklist,t.addChecklistInstance),u=t.auditors,m=t.getAuditors,d=Object(n.useState)("PUNTUAL"),p=Object(o.a)(d,2),f=p[0],h=p[1],E=Object(n.useState)(new Date("2020-03-26T21:11:54")),g=Object(o.a)(E,2),b=g[0],v=g[1],C=Object(n.useState)(1),A=Object(o.a)(C,2),K=A[0],W=A[1],H=Object(n.useState)(null),F=Object(o.a)(H,2),B=F[0],G=F[1],U=Object(n.useState)(null),M=Object(o.a)(U,2),J=M[0],V=M[1],X=Object(n.useState)(0),Y=Object(o.a)(X,2),Z=Y[0],$=Y[1];Object(n.useEffect)((function(){m(),c()}),[Z]);return r.a.createElement(j.a,{container:!0,spacing:3},r.a.createElement(j.a,{item:!0,xs:4,md:4,lg:4},r.a.createElement(x.a,null,r.a.createElement(s.a,{variant:"h6",align:"center"}," Tarea "),r.a.createElement(z.a,null),r.a.createElement(ae,{tabNames:["Checklist","OPS"],icons:["PlaylistAddCheckRounded","WarningRounded"],handleSelection:$}),r.a.createElement(q,{values:Z?a.filter((function(e){return"CHECKLIST"!==e.type})):a.filter((function(e){return"OPS"!==e.type})),primaryDisplayKey:"name",sectionKey:"department",handleFunction:V}))),r.a.createElement(j.a,{item:!0,xs:4,md:4,lg:4}),r.a.createElement(j.a,{item:!0,xs:4,md:4,lg:4},r.a.createElement(j.a,{container:!0,direction:"column",spacing:2},r.a.createElement(j.a,{item:!0,xs:10},r.a.createElement(x.a,null,r.a.createElement(s.a,{variant:"h6",align:"center"}," Auditor "),r.a.createElement(z.a,null),r.a.createElement(q,{values:u,primaryDisplayKey:"fullname",sectionKey:"department",handleFunction:G}))),r.a.createElement(j.a,{item:!0,xs:2},r.a.createElement(k.a,{theme:Ve},r.a.createElement(O.a,{variant:"contained",size:"large",color:"primary",startIcon:r.a.createElement(_.a,null),onClick:function(){return function(e){if(console.log("**createNewTask**"),console.log("auditor "+JSON.stringify(B)),console.log("checklistSelected: "+JSON.stringify(J)),console.log("repetition "+K),console.log("fecha selected "+b),console.log("subtype "+f),void 0!==B&&null!==B&&void 0!==J&&null!==J){var t={auditor:B,checklist:J,subType:f,startDate:b,dueDate:b,overdueDate:b.addDays(J.maxOverdueDays),repetition:K};console.log("before addChecklistInstance"),l(t)}}()}},"Asignar"))))),r.a.createElement(j.a,{item:!0,xs:6,md:6,lg:6},r.a.createElement(j.a,{container:!0,spacing:1},r.a.createElement(j.a,{item:!0,xs:6,md:6,lg:6},r.a.createElement(w.a,{component:"fieldset"},r.a.createElement(I.a,{component:"legend"},"Perioricidad"),r.a.createElement(T.a,{"aria-label":"perioricidad",name:"periodo",value:f,onChange:function(e){h(e.target.value)}},r.a.createElement(D.a,{value:"PUNTUAL",control:r.a.createElement(S.a,{color:"secondary"}),label:"Puntual"}),r.a.createElement(D.a,{value:"SEMANAL",control:r.a.createElement(S.a,{color:"secondary"}),label:"Semanal"}),r.a.createElement(D.a,{value:"MENSUAL",control:r.a.createElement(S.a,{color:"secondary"}),label:"Mensual"}),r.a.createElement(D.a,{value:"PUNTUAL_SEMANAL",control:r.a.createElement(S.a,{color:"secondary"}),label:"Dia de la semana"}),r.a.createElement(D.a,{value:"PUNTUAL_MENSUAL",control:r.a.createElement(S.a,{color:"secondary"}),label:"Dia del mes"})))),r.a.createElement(j.a,{item:!0,xs:6,md:6,lg:6},r.a.createElement(j.a,{container:!0,direction:"column",spacing:5,justify:"flex-start",alignItems:"flex-start"},r.a.createElement(j.a,{item:!0,xs:!0},r.a.createElement(I.a,{component:"legend"},"Fecha y Hora"),r.a.createElement(R.a,{utils:N.a},r.a.createElement(P.a,{value:b,onChange:function(e){v(e)}}))),r.a.createElement(j.a,{item:!0,xs:!0},r.a.createElement(I.a,{component:"legend"},"Repetici\xf3n"),r.a.createElement(L.a,{id:"outlined-basic",variant:"outlined",type:"number",defaultValue:K,inputProps:{min:0},onChange:function(e){W(parseInt(e.target.value))}})))))),r.a.createElement(j.a,{item:!0,xs:6,md:6,lg:6},r.a.createElement(I.a,{component:"legend"},"\xdaltimas asignadas"),r.a.createElement(oe,null)),r.a.createElement(j.a,(e={item:!0},Object(i.a)(e,"item",!0),Object(i.a)(e,"xs",12),Object(i.a)(e,"md",12),Object(i.a)(e,"lg",12),e),r.a.createElement(Ue,null)))},Xe=a(126),Ye=function(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),a=t[0],c=t[1];function l(){return(l=Object(d.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.get("/api/v1/queries/statistics/checklistsByCategory");case 3:t=e.sent,c(t.data.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){!function(){l.apply(this,arguments)}()}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(s.a,{variant:"h6",align:"center",color:"textSecondary"},"top 5 problemas"),r.a.createElement(Se.a,{height:500,width:"100%"},r.a.createElement(Se.a,{height:"90%",mx:.5,width:"100%",display:"inline-block"},r.a.createElement(Xe.a,{data:a,margin:{top:50,right:110,bottom:50,left:60},xScale:{type:"point"},yScale:{type:"linear",min:"auto",max:"auto",stacked:!0,reverse:!1},axisTop:null,axisRight:null,axisBottom:{orient:"bottom",tickSize:5,tickPadding:5,tickRotation:0,legend:"categor\xeda",legendOffset:36,legendPosition:"middle"},axisLeft:{orient:"left",tickSize:5,tickPadding:5,tickRotation:0,legend:"nota media",legendOffset:-40,legendPosition:"middle"},colors:{scheme:"nivo"},pointSize:10,pointColor:{theme:"background"},pointBorderWidth:2,pointBorderColor:{from:"serieColor"},pointLabel:"y",pointLabelYOffset:-12,useMesh:!1,legends:[{anchor:"bottom-right",direction:"column",justify:!1,translateX:100,translateY:0,itemsSpacing:0,itemDirection:"left-to-right",itemWidth:80,itemHeight:20,itemOpacity:.75,symbolSize:12,symbolShape:"circle",symbolBorderColor:"rgba(0, 0, 0, .5)"}]})),r.a.createElement(Se.a,{height:"10%",mx:.5,width:"100%",display:"inline-block"})))},Ze=function(e){var t=e.type,a=Object(n.useState)("month"),c=Object(o.a)(a,2),l=c[0],i=c[1],u=Object(n.useState)([]),p=Object(o.a)(u,2),f=p[0],h=p[1];function E(){return(E=Object(d.a)(m.a.mark((function e(a){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.get("/api/v1/queries/statistics/checklistsByPeriod/".concat(t,"/").concat(a));case 3:n=e.sent,h(n.data.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){!function(e){E.apply(this,arguments)}(l)}),[l]),r.a.createElement(r.a.Fragment,null,r.a.createElement(s.a,{variant:"h6",align:"center",color:"textSecondary"},"nota media por departamento"),r.a.createElement(Se.a,{height:500,width:"100%"},r.a.createElement(Se.a,{height:"90%",mx:.5,width:"100%",display:"inline-block"},r.a.createElement(Xe.a,{data:f,margin:{top:50,right:110,bottom:50,left:60},xScale:{type:"point"},yScale:{type:"linear",min:"auto",max:"auto",stacked:!1,reverse:!1},axisTop:null,axisRight:null,axisBottom:{orient:"bottom",tickSize:5,tickPadding:5,tickRotation:0,legend:"tiempo",legendOffset:36,legendPosition:"middle"},axisLeft:{orient:"left",tickSize:5,tickPadding:5,tickRotation:0,legend:"nota media",legendOffset:-40,legendPosition:"middle"},colors:{scheme:"nivo"},pointSize:10,pointColor:{theme:"background"},pointBorderWidth:2,pointBorderColor:{from:"serieColor"},pointLabel:"y",pointLabelYOffset:-12,useMesh:!0,legends:[{anchor:"bottom-right",direction:"column",justify:!1,translateX:100,translateY:0,itemsSpacing:0,itemDirection:"left-to-right",itemWidth:80,itemHeight:20,itemOpacity:.75,symbolSize:12,symbolShape:"circle",symbolBorderColor:"rgba(0, 0, 0, .5)",effects:[{on:"hover",style:{itemBackground:"rgba(0, 0, 0, .03)",itemOpacity:1}}]}]})),r.a.createElement(Se.a,{height:"10%",mx:.5,width:"100%",display:"inline-block"},r.a.createElement(D.a,{value:"month",control:r.a.createElement(S.a,{color:"secondary",checked:"month"===l,onChange:function(e){i(e.target.value)}}),label:"mensual"}),r.a.createElement(D.a,{value:"year",control:r.a.createElement(S.a,{color:"secondary",checked:"year"===l,onChange:function(e){i(e.target.value)}}),label:"anual"}))))},$e=Object(W.a)({table:{minWidth:650}}),Qe=function(e){var t=e.columns,a=e.rows,c=Date.now(),l=new Date;l.setDate(l.getDate()-30);var i=Object(n.useState)(c),u=Object(o.a)(i,2),m=u[0],d=u[1],p=Object(n.useState)(l),f=Object(o.a)(p,2),h=f[0],E=f[1],g=$e();return r.a.createElement(r.a.Fragment,null,r.a.createElement(s.a,{variant:"h6",align:"center",color:"textSecondary"},"nota media por tipo de incidencia"),r.a.createElement(j.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(j.a,{item:!0,xs:!0},r.a.createElement(I.a,{component:"legend"},"Desde"),r.a.createElement(R.a,{utils:N.a},r.a.createElement(P.a,{value:m,onChange:function(e){return d(e)}}))),r.a.createElement(j.a,{item:!0,xs:!0},r.a.createElement(I.a,{component:"legend"},"Hasta"),r.a.createElement(R.a,{utils:N.a},r.a.createElement(P.a,{value:h,onChange:function(e){return E(e)}})))),r.a.createElement(me.a,{component:x.a},r.a.createElement(ie.a,{className:g.table,size:"small","aria-label":"a dense table"},r.a.createElement(de.a,null,r.a.createElement(fe.a,null,void 0!==t&&t.map((function(e,t){return r.a.createElement(ue.a,{align:0===t?"left":"right"},e)})))),r.a.createElement(se.a,null,void 0!==a&&a.map((function(e){return r.a.createElement(fe.a,{key:e.Nombre},r.a.createElement(ue.a,{component:"th",scope:"row"},e.Nombre),r.a.createElement(ue.a,{align:"right"},e.categor\u00eda_1),r.a.createElement(ue.a,{align:"right"},e.categor\u00eda_2),r.a.createElement(ue.a,{align:"right"},e.categor\u00eda_3),r.a.createElement(ue.a,{align:"right"},e.categor\u00eda_4),r.a.createElement(ue.a,{align:"right"},e.categor\u00eda_5))}))))))},et=function(e){e.height;var t=Object(n.useState)(void 0),a=Object(o.a)(t,2),c=a[0],l=a[1];function i(){return(i=Object(d.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.get("/api/v1/queries/statistics/aggregationTableData/checklist");case 3:t=e.sent,console.log("Data from checklist supertable ",t.data.data),l(t.data.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){!function(){i.apply(this,arguments)}()}),[]),r.a.createElement(j.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(j.a,{item:!0,xs:!0},r.a.createElement(s.a,{variant:"h5",color:"textSecondary",align:"left"},"Checklist"),r.a.createElement(Ze,{type:"checklist"})),r.a.createElement(j.a,{item:!0,xs:!0},r.a.createElement(Ye,null)),r.a.createElement(j.a,{item:!0,xs:!0},void 0!==c?r.a.createElement(Qe,{columns:c.columns,rows:c.rows}):""))},tt=a(324),at=[{country:"Enero","Acer\xeda":48,"Acer\xedaColor":"hsl(299, 70%, 50%)",Office:75,OfficeColor:"hsl(103, 70%, 50%)",Corte:14,CorteColor:"hsl(19, 70%, 50%)","Distribuci\xf3n":59,"Distribuci\xf3nColor":"hsl(327, 70%, 50%)",Limpieza:99,LimpiezaColor:"hsl(334, 70%, 50%)",Transporte:54,TransporteColor:"hsl(204, 70%, 50%)"},{country:"Febrero","Acer\xeda":88,"Acer\xedaColor":"hsl(66, 70%, 50%)",Office:46,OfficeColor:"hsl(30, 70%, 50%)",Corte:11,CorteColor:"hsl(105, 70%, 50%)","Distribuci\xf3n":23,"Distribuci\xf3nColor":"hsl(292, 70%, 50%)",Limpieza:87,LimpiezaColor:"hsl(36, 70%, 50%)",Transporte:40,TransporteColor:"hsl(347, 70%, 50%)"},{country:"Marzo","Acer\xeda":20,"Acer\xedaColor":"hsl(275, 70%, 50%)",Office:99,OfficeColor:"hsl(259, 70%, 50%)",Corte:61,CorteColor:"hsl(36, 70%, 50%)","Distribuci\xf3n":78,"Distribuci\xf3nColor":"hsl(222, 70%, 50%)",Limpieza:8,LimpiezaColor:"hsl(343, 70%, 50%)",Transporte:8,TransporteColor:"hsl(343, 70%, 50%)"},{country:"Abril","Acer\xeda":33,"Acer\xedaColor":"hsl(326, 70%, 50%)",Office:71,OfficeColor:"hsl(183, 70%, 50%)",Corte:12,CorteColor:"hsl(351, 70%, 50%)","Distribuci\xf3n":49,"Distribuci\xf3nColor":"hsl(209, 70%, 50%)",Limpieza:22,LimpiezaColor:"hsl(234, 70%, 50%)",Transporte:22,TransporteColor:"hsl(293, 70%, 50%)"},{country:"Mayo","Acer\xeda":62,"Acer\xedaColor":"hsl(287, 70%, 50%)",Office:91,OfficeColor:"hsl(124, 70%, 50%)",Corte:10,CorteColor:"hsl(283, 70%, 50%)","Distribuci\xf3n":86,"Distribuci\xf3nColor":"hsl(334, 70%, 50%)",Limpieza:12,LimpiezaColor:"hsl(177, 70%, 50%)",Transporte:37,TransporteColor:"hsl(105, 70%, 50%)"},{country:"Junio","Acer\xeda":33,"Acer\xedaColor":"hsl(244, 70%, 50%)",Office:63,OfficeColor:"hsl(56, 70%, 50%)",Corte:51,CorteColor:"hsl(90, 70%, 50%)","Distribuci\xf3n":52,"Distribuci\xf3nColor":"hsl(339, 70%, 50%)",Limpieza:46,LimpiezaColor:"hsl(73, 70%, 50%)",Transporte:8,TransporteColor:"hsl(289, 70%, 50%)"},{country:"Julio","Acer\xeda":83,"Acer\xedaColor":"hsl(207, 70%, 50%)",Office:89,OfficeColor:"hsl(136, 70%, 50%)",Corte:78,CorteColor:"hsl(164, 70%, 50%)","Distribuci\xf3n":17,"Distribuci\xf3nColor":"hsl(156, 70%, 50%)",Limpieza:40,LimpiezaColor:"hsl(139, 70%, 50%)",Transporte:93,TransporteColor:"hsl(262, 70%, 50%)"}],nt=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(s.a,{variant:"h6",align:"center",color:"textSecondary"},"% realizaci\xf3n por departamento"),r.a.createElement(Se.a,{height:500,width:"100%"},r.a.createElement(Se.a,{height:"90%",mx:.5,width:"100%",display:"inline-block"},r.a.createElement(tt.a,{data:at,keys:["Acer\xeda","Office","Corte","Distribuci\xf3n","Limpieza","Transporte"],indexBy:"country",margin:{top:25,right:130,bottom:50,left:60},padding:.3,colors:{scheme:"nivo"},defs:[{id:"dots",type:"patternDots",background:"inherit",color:"#38bcb2",size:4,padding:1,stagger:!0},{id:"lines",type:"patternLines",background:"inherit",color:"#eed312",rotation:-45,lineWidth:6,spacing:10}],fill:[{match:{id:"Limpieza"},id:"dots"},{match:{id:"Corte"},id:"lines"}],borderColor:{from:"color",modifiers:[["darker",1.6]]},axisTop:null,axisRight:null,axisBottom:{tickSize:5,tickPadding:5,tickRotation:0,legend:"mes",legendPosition:"middle",legendOffset:32},axisLeft:null,labelSkipWidth:12,labelSkipHeight:12,labelTextColor:{from:"color",modifiers:[["darker",1.6]]},legends:[{dataFrom:"keys",anchor:"bottom-right",direction:"column",justify:!1,translateX:120,translateY:0,itemsSpacing:2,itemWidth:100,itemHeight:20,itemDirection:"left-to-right",itemOpacity:.85,symbolSize:20,effects:[{on:"hover",style:{itemOpacity:1}}]}],animate:!0,motionStiffness:90,motionDamping:15})),r.a.createElement(Se.a,{height:"10%",mx:.5,width:"100%",display:"inline-block"})))},rt=function(e){e.height;var t=Object(n.useState)(void 0),a=Object(o.a)(t,2),c=a[0],l=a[1];function i(){return(i=Object(d.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.get("/api/v1/queries/statistics/aggregationTableData/ops");case 3:t=e.sent,l(t.data.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}return Object(n.useEffect)((function(){!function(){i.apply(this,arguments)}()}),[]),r.a.createElement(j.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(j.a,{item:!0,xs:!0},r.a.createElement(s.a,{variant:"h6",color:"textSecondary",align:"left"},"OPS"),r.a.createElement(Ze,{type:"ops"})),r.a.createElement(j.a,{item:!0,xs:!0},r.a.createElement(Ye,null)),r.a.createElement(j.a,{item:!0,xs:!0},void 0!==c?r.a.createElement(Qe,{columns:c.columns,rows:c.rows}):""),r.a.createElement(j.a,{item:!0,xs:!0},r.a.createElement(nt,null)))},ct=function(){return r.a.createElement(j.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(j.a,{item:!0,xs:!0},r.a.createElement(et,null)),r.a.createElement(j.a,{item:!0,xs:!0},r.a.createElement(rt,null)))},lt=a(653),ot=a(327),it=a.n(ot),st=a(328),ut=a.n(st),mt=Object(W.a)({root:{flexGrow:1}}),dt=Object(C.a)({alternate:{palette:{primary:Le.a}},palette:{primary:{main:"#ff4400"},secondary:{light:"#0066ff",main:"#0044ff",contrastText:"#ffcc00"},contrastThreshold:3,tonalOffset:.2}});var pt=function(){var e=mt(),t=r.a.useState(0),a=Object(o.a)(t,2),n=a[0],c=a[1];return r.a.createElement(v,null,r.a.createElement(k.a,{theme:dt},r.a.createElement(lt.a,{maxWidth:"lg"},r.a.createElement(x.a,{elevation:0,className:e.root},r.a.createElement(X.a,{value:n,onChange:function(e,t){c(t)},variant:"standard",indicatorColor:"",textColor:"primary","aria-label":"main menu tabs",centered:!0},r.a.createElement(Y.a,{icon:r.a.createElement(it.a,null),label:"Asignador"}),r.a.createElement(Y.a,{icon:r.a.createElement(ut.a,null),label:"Estad\xedsticas"}))),0===n&&r.a.createElement(qe,null),1===n&&r.a.createElement(ct,null))))};l.a.render(r.a.createElement(pt,null),document.getElementById("root"))}},[[396,1,2]]]);
//# sourceMappingURL=main.1a4271bb.chunk.js.map